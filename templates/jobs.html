{% extends "base.html" %}
{% load static %}

{% block title %}Browse Jobs - TaskNest{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'core/css/jobs.css' %}">
{% endblock %}

{% block content %}

<div class="jobs-wrapper">

    <div class="jobs-header">
        <h1>Browse Jobs</h1>
        <p>Explore jobs created by customers.</p>
    </div>

    <div class="jobs-search">
        <input type="text" id="jobsearch" placeholder="Search jobs...">
    </div>

    <div class="jobs-grid">

        {% if jobs %}

            {% for job in jobs %}

            <div class="job-card">

                <img src="{% if job.image %}{{ job.image.url }}{% else %}{% static 'images/placeholder.jpg' %}{% endif %}" alt="{{ job.title }}">

                <div class="job-content">

                    <div class="job-status {% if job.is_active %}status-active{% else %}status-inactive{% endif %}">
                        {% if job.is_active %}
                            Active
                        {% else %}
                            Inactive
                        {% endif %}
                    </div>

                    <h3 class="job-title">{{ job.title }}</h3>

                    <p class="job-desc">
                        {{ job.description|truncatewords:20 }}
                    </p>

                    <p class="posted-by">
                        Posted by <strong>{{ job.created_by.username }}</strong>
                    </p>

                </div>

            </div>

            {% endfor %}

        {% else %}
            <div class="jobs-empty">No jobs available right now.</div>
        {% endif %}

    </div>

</div>

<script src="{% static 'core/js/jobs.js' %}"></script>

{% endblock %}
